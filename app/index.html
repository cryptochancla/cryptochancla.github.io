<!doctype html>
<html lang="fr" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="CryptoPanoramix">
    <title>CryptoChancla</title>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <link href="style.css" rel="stylesheet">




  </head>
  <body class="text-white bg-dark">

    <h3><i class="bi bi-calculator-fill"></i>CryptoChancla</h3><p>Pour fonctionner, l'onglet ne doit être ni fermé ni rafraîchi.</p>



  <!-- Modal -->
  <div class="modal fade" id="modalCleAPI" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalCleAPILabel">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark">
        <div class="modal-header">
          <h5 class="modal-title" id="modalCleAPILabel">Liaison vers votre compte Binance</h5>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="cle_api" class="col-form-label">Clé API :</label>
              <input type="text" class="form-control" id="cle_api">
            </div>
            <div class="mb-3">
              <label for="secret_api" class="col-form-label">Secret :</label>
              <input type="text" class="form-control" id="secret_api">
            </div>
          </form>
          <p>Laissez vide si vous voulez juste tester.</p>
        </div>
        <div class="modal-footer">
          <button type="button" onclick="saisie_cle_api()" class="btn btn-secondary">Commencer</button>
        </div>
      </div>
    </div>
  </div>




<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container"> 
  <div id="tradingview_b0bb0"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
  new TradingView.widget(
  {
  "autosize": true,
  "symbol": "BINANCE:BTCUSDT",
  "interval": "D",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "fr",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "withdateranges": true,
  "hide_side_toolbar": false,
  "allow_symbol_change": true,
  "save_image": false,
  "container_id": "tradingview_b0bb0"
}
  );
  </script>
</div>
<!-- TradingView Widget END -->

  
  <h2>Smart Buy</h2>

  <table><tr>
    <td><input type="text" class="form-control col-2" placeholder="Paire, ex BTCUSDT"></td>
    <td><input type="text" class="form-control col-2" placeholder="Prix CIBLE, ex 61234.1234"></td>
    <td><input type="text" class="form-control col-2" placeholder="Ecart X en %, ex 15"></td>
    <td><input type="text" class="form-control col-2" placeholder="Quantité, ex 0.5555"></td>
    <td> <button class="btn btn-secondary">Test</button></td>
    <td><button class="btn btn-success">Acheter pour de vrai</button></td>
  </tr></table>
  
  <table class="table table-dark table-striped">
    <thead>
      <tr>
        <th scope="col">Paire</th>
        <th scope="col">Prix ACTUEL</th>
        <th scope="col">Prix CIBLE</th>
        <th scope="col">Ecart X</th>
        <th scope="col">Quantité</th>
        <th scope="col">Etat</th>
        <th scope="col">PLUS_HAUT</th>
        <th scope="col">Date début</th>
        <th scope="col">Date CIBLE touchée</th>
        <th scope="col">Date vente</th>
      </tr>
    </thead>
    <tbody>
  
  
  
      <tr>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <td>fdsqf %</td>
        <td>fdsqffsdq</td>
        <td id="etat_smart_sell">fdsqfds <button class="btn btn-warning">Annuler</button></td>
        <td id="last_top">fdsqfdsqf</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
      </tr>
  
  
      <tr>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <td>fdsqf %</td>
        <td>fdsqffsdq</td>
        <td id="etat_smart_sell">fdsqfds <button class="btn btn-warning">Annuler</button></td>
        <td id="last_top">fdsqfdsqf</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
      </tr>
  
  
    </tbody>
  </table>

  <h2>Smart Sell</h2>

  <table><tr>
    <td><input type="text" class="form-control col-2" placeholder="Paire, ex BTCUSDT"></td>
    <td><input type="text" class="form-control col-2" placeholder="Prix CIBLE, ex 61234.1234"></td>
    <td><input type="text" class="form-control col-2" placeholder="Ecart X en %, ex 15"></td>
    <td><input type="text" class="form-control col-2" placeholder="Quantité, ex 0.5555"></td>
    <td> <button class="btn btn-secondary">Test</button></td>
    <td><button class="btn btn-danger">Vendre pour de vrai</button></td>
  </tr></table>

  <table class="table table-dark table-striped">
    <thead>
      <tr>
        <th scope="col">Paire</th>
        <th scope="col">Prix ACTUEL</th>
        <th scope="col">Prix CIBLE</th>
        <th scope="col">Ecart X</th>
        <th scope="col">Quantité</th>
        <th scope="col">Etat</th>
        <th scope="col">PLUS_HAUT</th>
        <th scope="col">Date début</th>
        <th scope="col">Date CIBLE touchée</th>
        <th scope="col">Date vente</th>
      </tr>
    </thead>
    <tbody>
  
  
  
      <tr>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <th>fdsqf</th>
        <td>fdsqf %</td>
        <td>fdsqffsdq</td>
        <td id="etat_smart_sell">fdsqfds <button class="btn btn-warning">Annuler</button></td>
        <td id="last_top">fdsqfdsqf</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
        <td>fdsqffsdq</td>
      </tr>
  
  
  
    </tbody>
  </table>



  <div id="json_div"></div>

  </body>




<script>


var myModal = new bootstrap.Modal(document.getElementById('modalCleAPI'), {
  keyboard: false,
  backdrop: 'static'
  });


function saisie_cle_api() {
  myModal.hide()
}

window.addEventListener('load', function () {
  myModal.show();
});








var rep_recu=1;

setInterval(function(){ 

  if(rep_recu==1){

    var xmlhttp = new XMLHttpRequest();
    var url = "https://api.binance.com/api/v3/ticker/price?symbol=BNBUSDT";


    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var myArr = JSON.parse(this.responseText);
            console.log(myArr.price);
            rep_recu=1;
        }
    };
    xmlhttp.open("GET", url, true);
    xmlhttp.send();

    rep_recu=0;

  }

}, 1000);





</script>


</html>
